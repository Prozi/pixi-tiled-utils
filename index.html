<!DOCTYPE html>
<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.0.4/pixi.js"></script>
    <script src="./index.js"></script>
</head>

<body>
    <script type="text/javascript">
        const { TiledApplication } = window['pixi-tiled-utils']
        window.app = new TiledApplication()

        const json = 'https://www.vikingsvillage.io/game/assets/json/island_small_21.json'
        const tileset = 'https://www.vikingsvillage.io/game/assets/img/Viking3.png'

        PIXI.loader.add('resource', tileset).load((loader, { resource }) => {
            window.app.createTiles({
                tilewidth: 42,
                tileheight: 42,
                offset: 1,
                texture: resource.texture
            })
            window.app.createWorld(json, tileset, 42).then(() => {
                console.log(window.app.stage.children.length)
            })
        })
    </script>
</body>

</html>